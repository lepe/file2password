jQuery(function(){if(a===undefined){var a=jQuery}a.fn.file2pass=function(){jQuery.file2pass({target:this})};a.file2pass=function(c){var b=this;if(!(b instanceof jQuery.file2pass)){b=new jQuery.file2pass(c);b.start();return b}else{this.options=a.extend({target:"input.f2p"},c||{})}};a.file2pass.prototype={start:function(){var c=this.genpass;if(typeof window.FileReader==="undefined"){return false}var b=a(this.options.target);b.each(function(){var d=a('<div class="fpass_holder">');d.hide().append('<input type="file">');a(this).after(d)});b.on("focus",function(){a(this).next(".fpass_holder").slideDown()}).on("blur",function(){a(this).next(".fpass_holder").slideUp()});a(".fpass_holder input").on("change",function(h){var f=a(this);h.preventDefault();var g=f.get(0).files[0],d=new FileReader();d.onload=function(e){f.closest(".fpass_holder").prev(b).val(c(e.target.result)).blur()};d.readAsDataURL(g);return false});a(".fpass_holder").on("dragover",function(){a(this).addClass("hover")}).on("dragend",function(){a(this).removeClass("hover");return false}).on("drop",function(i){var h=a(this);a(this).removeClass("hover");i.preventDefault();var f=i.dataTransfer.getData("Text");if(f.indexOf("http")==0){return false}var g=i.dataTransfer.files[0],d=new FileReader();d.onload=function(e){h.prev(b).val(c(e.target.result)).blur()};d.readAsDataURL(g);return false})},genpass:function(b){b=b.replace(/(\r\n|\n|\r|\/)/gm,"").replace(/.*base64,/,"").replace(/\+/g,"");b=b.replace(/(.)(?=\1)/g,"").match(/[0-9a-zA-Z]/gm).slice(20,50).join("");if(b.length!=30){alert("File is too small to generate password, please choose another one (try a file with more than 40 bytes large)")}return b}};a("input[type='password']").file2pass()});